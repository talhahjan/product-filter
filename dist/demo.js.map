{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/demo/full/index.js"],"names":[],"mappings":"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","file":"demo.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","window.Demo = class {\r\n\r\n    // Hard-coded search facets.\r\n    // You don't have to hard-code these if your API returns dynamic facets.\r\n    // See the _transformTemplateData function.\r\n\r\n    static get searchFacets() {\r\n        return [\r\n            {\r\n                label: 'Subject',\r\n                name: 'subject',\r\n                removable: false,\r\n                items: [\r\n                    {\r\n                        label: 'JavaScript',\r\n                        value: 'JavaScript',\r\n\r\n                        // Make \"JavaScript\" the default subject if the url doesn't have a subject-parameter.\r\n\r\n                        checked: !Filter.Url.parameter('subject') || Filter.Url.parameterHasValue('subject', 'JavaScript')\r\n                    },\r\n                    {\r\n                        label: 'jQuery',\r\n                        value: 'jQuery',\r\n                        checked: Filter.Url.parameterHasValue('subject', 'jQuery')\r\n                    },\r\n                    {\r\n                        label: 'CSS',\r\n                        value: 'CSS',\r\n                        checked: Filter.Url.parameterHasValue('subject', 'CSS')\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                label: 'Publisher',\r\n                name: 'inpublisher',\r\n                removable: true,\r\n                items: [\r\n                    {\r\n                        label: 'O\\'Reilly',\r\n                        value: 'O\\'Reilly',\r\n                        checked: Filter.Url.parameterHasValue('inpublisher', 'O\\'Reilly')\r\n                    },\r\n                    {\r\n                        label: 'No Starch Press',\r\n                        value: 'No Starch Press',\r\n                        checked: Filter.Url.parameterHasValue('inpublisher', 'No Starch Press')\r\n                    },\r\n                    {\r\n                        label: 'John Wiley & Sons',\r\n                        value: 'John Wiley & Sons',\r\n                        checked: Filter.Url.parameterHasValue('inpublisher', 'John Wiley & Sons')\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n\r\n    // The initial response will be used for initializing the filter synchronously.\r\n    // This improves performance as we don't have to wait for an ajax reponse to complete after page load.\r\n\r\n    constructor(element, initialResponse){\r\n        this.element = element;\r\n        this._initFilter(initialResponse);\r\n    }\r\n\r\n    // Initialize the plugin\r\n\r\n    _initFilter(initialResponse){\r\n\r\n        window.filter = new Filter(this.element, {\r\n\r\n            // The url to your API\r\n\r\n            url: 'https://www.googleapis.com/books/v1/volumes',\r\n\r\n            // The initial response; should be the same as the data returned by the url\r\n\r\n            initialResponse: initialResponse,\r\n\r\n            // Transform ajax requests to the format expected by the API\r\n\r\n            transformRequest: this._transformRequest.bind(this),\r\n\r\n            // Transform the browser url if needed\r\n\r\n            transformUrl: this._transformUrl.bind(this),\r\n\r\n            // Transform data to the format expected by your custom handlebars template\r\n\r\n            transformTemplateData: this._transformTemplateData.bind(this),\r\n\r\n            // A callback that runs every time the template has been rendered.\r\n            // Useful for manipulating DOM inside the rendered template element.\r\n\r\n            rendered: this._rendered.bind(this)\r\n        });\r\n    }\r\n\r\n    // The formData argument has data from the template's <form> element.\r\n    // Generates a request that matches the specifications described on https://developers.google.com/books/docs/v1/reference/volumes/list\r\n\r\n    _transformRequest(formData){\r\n        var serializedForm = [];\r\n        for(var key in formData){\r\n            var serializedFormItem = this._getSerializedFormItem(key, formData[key]);\r\n            serializedForm.push(serializedFormItem);\r\n        }\r\n        return 'q=' + serializedForm.join('+') + '&maxResults=12';\r\n    }\r\n\r\n    _getSerializedFormItem(key, values){\r\n        var firstValue = values && values[0];\r\n        if(firstValue){\r\n            var decodedKey = decodeURIComponent(key);\r\n            return decodedKey + ':' + firstValue;\r\n        }\r\n    }\r\n\r\n    // Transform the appearance of the browser's url\r\n\r\n    _transformUrl(response){\r\n        return response;\r\n    }\r\n\r\n    // The data argument is passed on to the handlebars template with the following information:\r\n    // - The response from the API request\r\n    // - An error if the API request failed\r\n    // - The browser's url parameters\r\n\r\n    _transformTemplateData(data){\r\n        if(!data.error){\r\n            data.searchFacets = this.constructor.searchFacets;\r\n        }\r\n        return data;\r\n    }\r\n\r\n    // Do something with the dom\r\n\r\n    _rendered(element){\r\n        console.log('Element with rendered template:', element);\r\n        document.querySelector('[data-external-message]').style.display = 'block';\r\n    }\r\n\r\n}\r\n\r\n\r\n"]}